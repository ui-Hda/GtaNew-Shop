<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GTA New Shop - Panier</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&family=Staatliches&display=swap" rel="stylesheet">
<style>
  body {background:#0f0f0f;color:#fff;font-family:'Poppins',sans-serif;margin:0;padding:0;}
  header, footer {background:#171717;padding:1rem 2rem;}
  header a, footer a {color:#fff;text-decoration:none;margin-right:1rem;}
  main {padding:2rem;}
  .cart-item {display:flex;gap:1rem;padding:1rem;background:#171717;border-radius:12px;margin-bottom:1rem;align-items:center;}
  .cart-item img {width:100px;height:75px;object-fit:cover;border-radius:8px;}
  .cart-info {flex:1;}
  .cart-title {font-weight:700;font-size:1.2rem;}
  .cart-price {color:#8a2be2;font-weight:600;}
  .remove-btn {background:#ff4b4b;border:none;padding:0.5rem 1rem;border-radius:50px;color:#fff;cursor:pointer;}
  .total {text-align:right;font-size:1.5rem;font-weight:700;margin-top:2rem;}
  .empty {text-align:center;color:rgba(255,255,255,0.6);margin-top:3rem;font-size:1.2rem;}
</style>
</head>
<body>

<header>
  <a href="index.html">Accueil</a>
  <a href="objets.html">Objets</a>
  <a href="packs.html">Packs</a>
  <a href="vehicules.html">Véhicules</a>
  <a href="permissions.html">Permissions</a>
  <a href="armes.html">Armes</a>
  <a href="abonnements.html">Abonnements</a>
  <a href="gcoins.html">GCoins</a>
  <button id="panier-btn">Panier (0)</button>
</header>

<main>
  <h1>Mon Panier</h1>
  <div id="cart-items"></div>
  <div class="total" id="cart-total"></div>
</main>

<footer>
  © GTA New Shop — Tous droits réservés
</footer>

<script>
  let panier = JSON.parse(localStorage.getItem('panier')) || [];
  const cartItems = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');
  const panierBtn = document.getElementById('panier-btn');

  function renderCart() {
    cartItems.innerHTML = '';
    if(panier.length === 0) {
      cartItems.innerHTML = '<div class="empty">Votre panier est vide.</div>';
      cartTotal.textContent = '';
      panierBtn.innerText = 'Panier (0)';
      return;
    }
    let total = 0;
    panier.forEach((item, index) => {
      total += parseFloat(item.price);
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        ${item.img ? `<img src="${item.img}" alt="${item.title}">` : ''}
        <div class="cart-info">
          <div class="cart-title">${item.title}</div>
          <div class="cart-price">${item.price}€</div>
        </div>
        <button class="remove-btn" data-index="${index}">Supprimer</button>
      `;
      cartItems.appendChild(div);
    });
    cartTotal.textContent = 'Total: ' + total + '€';
    panierBtn.innerText = `Panier (${panier.length})`;

    document.querySelectorAll('.remove-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const idx = btn.dataset.index;
        panier.splice(idx,1);
        localStorage.setItem('panier', JSON.stringify(panier));
        renderCart();
      });
    });
  }

  renderCart();
</script>

</body>
</html>
